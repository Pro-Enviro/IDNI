<section>
  <p-card styleClass="card-charts">
    <div class="grid">
      <div class="col-4">
        <p-card header="Electricity Consumption" subheader="kWh Split by the Day of the Week Chart Guide" styleClass="card-select-panel" [style]="{ height: '100%' }">
          <p-button type="button" styleClass="btn-style" (click)="scatterGuide = true" icon="pi pi-chart-bar" label="Guide"></p-button>
        </p-card>
      </div>
      <div class="col-4">
        <p-card header="Select Company" styleClass="card-select-panel" *ngIf="isConsultant" [style]="{ height: '100%' }">
          <!--      <p-selectButton [options]="companies" [(ngModel)]="selectedCompany" optionLabel="name" optionValue="id" (ngModelChange)="onSelectCompany()" class="btn-select"></p-selectButton>-->
          <p-dropdown [options]="companies" [(ngModel)]="selectedCompany" optionLabel="name" optionValue="id" (ngModelChange)="onSelectCompany()"
                      [style]="{ width: '12rem'}" [disabled]="!isConsultant" scrollHeight="370px"
          ></p-dropdown>
        </p-card>
      </div>
      <div class="col-4">
        <div class="" *ngIf="mpan.length">
          <p-card header="Select Mpan" styleClass="card-select-panel" [style]="{ height: '16vh' }">
            <p-selectButton [options]="mpan" [(ngModel)]="selectedMpan" (ngModelChange)="onSelectCompany()" class="btn-select"></p-selectButton>
          </p-card>
        </div>
      </div>
      <div class="col-12">
        <p-card styleClass="card-style-none">
          <div class="flex justify-content-between mb-6">
            <p-selectButton [options]="defaultFilters" [(ngModel)]="dateFilter" optionLabel="name" optionValue="value" (ngModelChange)="filterData()" class="btn-select ml-1"></p-selectButton>
            <p-calendar  [minDate]="minDate" [maxDate]="maxDate" [(ngModel)]="dateRange" dateFormat="dd\mm\yy" selectionMode="range" (ngModelChange)="filterData()" [showIcon]="true" styleClass="date-btn mr-1"></p-calendar>
          </div>
          <div class="h-full">
            <div echarts  [options]="chartOptions" style="max-height: 60vh; height: 800px;"></div>
          </div>
        </p-card>
      </div>
    </div>
  </p-card>

  <p-sidebar [(visible)]="scatterGuide" position="right" styleClass="w-4">
    <div class="container p-5">
      <h3 class="header-style">Electricity Consumption, kWh Split by the Day of the Week Chart Guide</h3>
      <p>The scatter chart presents the total energy consumption per day over the selected period. It also differentiates by the days of the week by using different colour data points.
        Hovering over the data points, we will get information about the day, date, and kWh of that data point.
      </p>
    </div>
  </p-sidebar>
</section>
