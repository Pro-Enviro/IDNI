<!--<p-panel header="Select Company">-->
<!--  <p-selectButton [options]="companies" [(ngModel)]="selectedCompany" optionLabel="name" optionValue="id"-->
<!--                  (ngModelChange)="onSelectCompany()" class="btn-select"></p-selectButton>-->
<!--</p-panel>-->

<p-panel header="Productivity, Emissions, and Materials Tool"
         [style]="{'min-width':'800px', 'paddingBottom':'300px', marginTop: '1rem'}">
  <p-table [value]="rows" styleClass="pet-table p-datatable-sm p-datatable-gridlines col-6">
    <ng-template pTemplate="header">
      <tr>
        <th style="font-weight: 600">Productivity Factors Year 2024</th>
        <th style="width: 150px; font-weight: 600">Value</th>
        <th style="width: 150px; font-weight: 600">Per Employee Cost</th>
      </tr>
      <tr>
        <th>
          <p>Turnover</p>
        </th>
        <th>
          <p-inputNumber inputId="turnover" class="p-inputtext-sm" [inputStyle]="{width: '150px'}"
                         [(ngModel)]="turnover" (ngModelChange)="calculatePerEmployeeCost()"></p-inputNumber>
        </th>
        <th></th>
      </tr>
      <tr>
        <th>
          <p>Number Of Employees</p>
        </th>
        <th>
          <p-inputNumber inputId="employees" class="p-inputtext-sm" [inputStyle]="{width: '150px'}"
                         [(ngModel)]="employees" (ngModelChange)="calculatePerEmployeeCost()"></p-inputNumber>
        </th>
        <th></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-row>
      <tr>
        <td style="width: 400px"><p>{{ row.name }}</p></td>
        <td>
          <p-inputNumber class="p-inputtext-sm" [inputStyle]="{width: '150px'}" [(ngModel)]="row.value"
                         (ngModelChange)="calculatePerEmployeeCost()"></p-inputNumber>
        </td>
        <td>
          <p class="p-inputtext-sm">{{ row.secondColumn.toLocaleString('en-US') }}</p>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="footer">
      <tr>
        <td>Total External Cost</td>
        <td>
          <p-inputNumber class="p-inputtext-sm" [inputStyle]="{width: '150px'}" [(ngModel)]="totalOfRows"
          ></p-inputNumber>
        </td>
        <td></td>
      </tr>
      <tr>
        <td>Productivity Score</td>
        <td>
          <p-inputNumber class="p-inputtext-sm" [inputStyle]="{width: '150px'}" [(ngModel)]="productivityScore"
          ></p-inputNumber>
        </td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td>50%tile</td>
        <td>95%tile</td>
      </tr>
      <tr>
        <td>ONS Productivity Comparison</td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>Innovation - % of Turnover from Products <3 years</td>
        <td>
          <p-inputNumber class="p-inputtext-sm" [inputStyle]="{width: '150px'}" suffix="%"
                         [(ngModel)]="innovationPercent"
          ></p-inputNumber>
        </td>
        <td>
          {{ (turnover * (innovationPercent / 100)).toLocaleString('en-US') }}
        </td>
      </tr>
    </ng-template>
  </p-table>

  <!-- Energy Costs -->
  <p-table [value]="energyRows" styleClass="pet-table p-datatable-sm p-datatable-gridlines col-6"
           [style]="{marginTop: '1rem'}">
    <ng-template pTemplate="header">
      <tr>
        <th style="font-weight: 600">Energy Costs</th>
        <th style="width: 150px; font-weight: 600">Â£ Annual</th>
        <th style="width: 150px; font-weight: 600">litres or kWh/yr</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-row>
      <tr>
        <td><p>{{ row.name }}</p></td>
        <td>
          <p-inputNumber class="p-inputtext-sm" [inputStyle]="{width: '150px'}" [(ngModel)]="row.value"
          ></p-inputNumber>
        </td>
        <td>
          <p-inputNumber class="p-inputtext-sm" [inputStyle]="{width: '150px'}" [(ngModel)]="row.secondColumn"
          ></p-inputNumber>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="footer">
      <tr>
        <td>Total</td>
        <td></td>
        <td></td>
      </tr>
    </ng-template>
  </p-table>

  <!--  Grid Allocation-->
  <p-table [value]="gridAllocationRows" styleClass="pet-table p-datatable-sm p-datatable-gridlines col-6"
           [style]="{marginTop: '1rem'}">
    <ng-template pTemplate="header">
      <tr>
        <th style="font-weight: 600">Grid Allocation & Usage</th>
        <th style="width: 150px; font-weight: 600">KvA</th>
        <th style="width: 150px; font-weight: 600"></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-row>
      <tr>
        <td><p>{{ row.name }}</p></td>
        <td>
          <p-inputNumber class="p-inputtext-sm" [inputStyle]="{width: '150px'}" [(ngModel)]="row.value"
          ></p-inputNumber>
        </td>
        <td>
          <p-inputNumber class="p-inputtext-sm" [inputStyle]="{width: '150px'}" [(ngModel)]="row.secondColumn"
          ></p-inputNumber>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <!--  Onsite Generation-->
  <p-table [value]="onSiteRows" styleClass="pet-table p-datatable-sm p-datatable-gridlines col-6"
           [style]="{marginTop: '1rem'}">
    <ng-template pTemplate="header">
      <tr>
        <th style="font-weight: 600">Onsite Generation</th>
        <th style="width: 150px; font-weight: 600">Max kWh</th>
        <th style="width: 150px; font-weight: 600">Annual kWh</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-row>
      <tr>
        <td><p>{{ row.name }}</p></td>
        <td>
          <p-inputNumber class="p-inputtext-sm" [inputStyle]="{width: '150px'}" [(ngModel)]="row.value"
          ></p-inputNumber>
        </td>
        <td>
          <p-inputNumber class="p-inputtext-sm" [inputStyle]="{width: '150px'}" [(ngModel)]="row.secondColumn"
          ></p-inputNumber>
        </td>
      </tr>
    </ng-template>
  </p-table>

<!--  <p-button label="Save" class="btn btn-dark" (click)="saveReport()"></p-button>-->
</p-panel>
